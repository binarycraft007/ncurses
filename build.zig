const std = @import("std");

pub fn build(b: *std.build.Builder) void {
    // Standard release options allow the person running `zig build` to select
    // between Debug, ReleaseSafe, ReleaseFast, and ReleaseSmall.
    const target = b.standardTargetOptions(.{});
    const mode = b.standardReleaseOptions();

    const ncursesw_src = [_][]const u8{
        "ncurses/tty/hardscroll.c",
        "ncurses/tty/hashmap.c",
        "ncurses/base/lib_addch.c",
        "ncurses/base/lib_addstr.c",
        "ncurses/base/lib_beep.c",
        "ncurses/base/lib_bkgd.c",
        "ncurses/base/lib_box.c",
        "ncurses/base/lib_chgat.c",
        "ncurses/base/lib_clear.c",
        "ncurses/base/lib_clearok.c",
        "ncurses/base/lib_clrbot.c",
        "ncurses/base/lib_clreol.c",
        "ncurses/base/lib_color.c",
        "ncurses/base/lib_colorset.c",
        "ncurses/base/lib_delch.c",
        "ncurses/base/lib_delwin.c",
        "ncurses/base/lib_echo.c",
        "ncurses/base/lib_endwin.c",
        "ncurses/base/lib_erase.c",
        "ncurses/base/lib_flash.c",
        "ncurses/lib_gen.c",
        "ncurses/base/lib_getch.c",
        "ncurses/base/lib_getstr.c",
        "ncurses/base/lib_hline.c",
        "ncurses/base/lib_immedok.c",
        "ncurses/base/lib_inchstr.c",
        "ncurses/base/lib_initscr.c",
        "ncurses/base/lib_insch.c",
        "ncurses/base/lib_insdel.c",
        "ncurses/base/lib_insnstr.c",
        "ncurses/base/lib_instr.c",
        "ncurses/base/lib_isendwin.c",
        "ncurses/base/lib_leaveok.c",
        "ncurses/base/lib_mouse.c",
        "ncurses/base/lib_move.c",
        "ncurses/tty/lib_mvcur.c",
        "ncurses/base/lib_mvwin.c",
        "ncurses/base/lib_newterm.c",
        "ncurses/base/lib_newwin.c",
        "ncurses/base/lib_nl.c",
        "ncurses/base/lib_overlay.c",
        "ncurses/base/lib_pad.c",
        "ncurses/base/lib_printw.c",
        "ncurses/base/lib_redrawln.c",
        "ncurses/base/lib_refresh.c",
        "ncurses/base/lib_restart.c",
        "ncurses/base/lib_scanw.c",
        "ncurses/base/lib_screen.c",
        "ncurses/base/lib_scroll.c",
        "ncurses/base/lib_scrollok.c",
        "ncurses/base/lib_scrreg.c",
        "ncurses/base/lib_set_term.c",
        "ncurses/base/lib_slk.c",
        "ncurses/base/lib_slkatr_set.c",
        "ncurses/base/lib_slkatrof.c",
        "ncurses/base/lib_slkatron.c",
        "ncurses/base/lib_slkatrset.c",
        "ncurses/base/lib_slkattr.c",
        "ncurses/base/lib_slkclear.c",
        "ncurses/base/lib_slkcolor.c",
        "ncurses/base/lib_slkinit.c",
        "ncurses/base/lib_slklab.c",
        "ncurses/base/lib_slkrefr.c",
        "ncurses/base/lib_slkset.c",
        "ncurses/base/lib_slktouch.c",
        "ncurses/base/lib_touch.c",
        "ncurses/tty/lib_tstp.c",
        "ncurses/base/lib_ungetch.c",
        "ncurses/tty/lib_vidattr.c",
        "ncurses/base/lib_vline.c",
        "ncurses/base/lib_wattroff.c",
        "ncurses/base/lib_wattron.c",
        "ncurses/base/lib_winch.c",
        "ncurses/base/lib_window.c",
        "ncurses/base/nc_panel.c",
        "ncurses/base/safe_sprintf.c",
        "ncurses/tty/tty_update.c",
        "ncurses/trace/varargs.c",
        "ncurses/base/vsscanf.c",
        "ncurses/base/lib_freeall.c",
        "ncurses/widechar/charable.c",
        "ncurses/widechar/lib_add_wch.c",
        "ncurses/widechar/lib_box_set.c",
        "ncurses/widechar/lib_cchar.c",
        "ncurses/widechar/lib_erasewchar.c",
        "ncurses/widechar/lib_get_wch.c",
        "ncurses/widechar/lib_get_wstr.c",
        "ncurses/widechar/lib_hline_set.c",
        "ncurses/widechar/lib_in_wch.c",
        "ncurses/widechar/lib_in_wchnstr.c",
        "ncurses/widechar/lib_ins_wch.c",
        "ncurses/widechar/lib_inwstr.c",
        "ncurses/widechar/lib_key_name.c",
        "ncurses/widechar/lib_pecho_wchar.c",
        "ncurses/widechar/lib_slk_wset.c",
        "ncurses/widechar/lib_unget_wch.c",
        "ncurses/widechar/lib_vid_attr.c",
        "ncurses/widechar/lib_vline_set.c",
        "ncurses/widechar/lib_wacs.c",
        "ncurses/widechar/lib_wunctrl.c",
        "ncurses/expanded.c",
        "ncurses/base/legacy_coding.c",
        "ncurses/base/lib_dft_fgbg.c",
        "ncurses/tinfo/lib_print.c",
        "ncurses/base/new_pair.c",
        "ncurses/base/resizeterm.c",
        "ncurses/tinfo/use_screen.c",
        "ncurses/base/use_window.c",
        "ncurses/base/wresize.c",
        "ncurses/tinfo/access.c",
        "ncurses/tinfo/add_tries.c",
        "ncurses/tinfo/alloc_ttype.c",
        "ncurses/codes.c",
        "ncurses/comp_captab.c",
        "ncurses/tinfo/comp_error.c",
        "ncurses/tinfo/comp_hash.c",
        "ncurses/comp_userdefs.c",
        "ncurses/tinfo/db_iterator.c",
        "ncurses/tinfo/doalloc.c",
        "ncurses/tinfo/entries.c",
        "ncurses/fallback.c",
        "ncurses/tinfo/free_ttype.c",
        "ncurses/tinfo/getenv_num.c",
        "ncurses/tinfo/home_terminfo.c",
        "ncurses/tinfo/init_keytry.c",
        "ncurses/tinfo/lib_acs.c",
        "ncurses/tinfo/lib_baudrate.c",
        "ncurses/tinfo/lib_cur_term.c",
        "ncurses/tinfo/lib_data.c",
        "ncurses/tinfo/lib_has_cap.c",
        "ncurses/tinfo/lib_kernel.c",
        "ncurses/lib_keyname.c",
        "ncurses/tinfo/lib_longname.c",
        "ncurses/tinfo/lib_napms.c",
        "ncurses/tinfo/lib_options.c",
        "ncurses/tinfo/lib_raw.c",
        "ncurses/tinfo/lib_setup.c",
        "ncurses/tinfo/lib_termcap.c",
        "ncurses/tinfo/lib_termname.c",
        "ncurses/tinfo/lib_tgoto.c",
        "ncurses/tinfo/lib_ti.c",
        "ncurses/tinfo/lib_tparm.c",
        "ncurses/tinfo/lib_tputs.c",
        "ncurses/trace/lib_trace.c",
        "ncurses/tinfo/lib_ttyflags.c",
        "ncurses/tty/lib_twait.c",
        "ncurses/tinfo/name_match.c",
        "ncurses/names.c",
        "ncurses/tinfo/obsolete.c",
        "ncurses/tinfo/read_entry.c",
        "ncurses/tinfo/read_termcap.c",
        "ncurses/tinfo/strings.c",
        "ncurses/base/tries.c",
        "ncurses/tinfo/trim_sgr0.c",
        "ncurses/unctrl.c",
        "ncurses/trace/visbuf.c",
        "ncurses/tinfo/alloc_entry.c",
        "ncurses/tinfo/captoinfo.c",
        "ncurses/tinfo/comp_expand.c",
        "ncurses/tinfo/comp_parse.c",
        "ncurses/tinfo/comp_scan.c",
        "ncurses/tinfo/parse_entry.c",
        "ncurses/tinfo/write_entry.c",
        "ncurses/base/define_key.c",
        "ncurses/tinfo/hashed_db.c",
        "ncurses/base/key_defined.c",
        "ncurses/base/keybound.c",
        "ncurses/base/keyok.c",
        "ncurses/base/version.c",
    };

    const ncursesw_cflags = [_][]const u8{
        "-DNCURSES_VERSION=\"6.3\"",
        "-DNCURSES_PATCHDATE=\"20221105\"",
        "-DSYSTEM_NAME=\"linux-gnu\"",
        "-DHAVE_LONG_FILE_NAMES=1",
        "-DMIXEDCASE_FILENAMES=1",
        "-DHAVE_LIBDL=1",
        "-DHAVE_BIG_CORE=1",
        "-DPURE_TERMINFO=1",
        "-DUSE_HOME_TERMINFO=1",
        "-DUSE_ROOT_ENVIRON=1",
        "-DUSE_ROOT_ACCESS=1",
        "-DHAVE_UNISTD_H=1",
        "-DHAVE_REMOVE=1",
        "-DHAVE_UNLINK=1",
        "-DHAVE_LINK=1",
        "-DHAVE_SYMLINK=1",
        "-DUSE_LINKS=1",
        "-DHAVE_LANGINFO_CODESET=1",
        "-DUSE_WIDEC_SUPPORT=1",
        "-DNCURSES_WIDECHAR=1",
        "-DHAVE_WCHAR_H=1",
        "-DHAVE_WCTYPE_H=1",
        "-DHAVE_PUTWC=1",
        "-DHAVE_BTOWC=1",
        "-DHAVE_WCTOB=1",
        "-DHAVE_WMEMCHR=1",
        "-DHAVE_MBTOWC=1",
        "-DHAVE_WCTOMB=1",
        "-DHAVE_MBLEN=1",
        "-DHAVE_MBRLEN=1",
        "-DHAVE_MBRTOWC=1",
        "-DHAVE_WCSRTOMBS=1",
        "-DHAVE_MBSRTOWCS=1",
        "-DHAVE_WCSTOMBS=1",
        "-DHAVE_MBSTOWCS=1",
        "-DNEED_WCHAR_H=1",
        "-DHAVE_FSEEKO=1",
        "-DSTDC_HEADERS=1",
        "-DHAVE_SYS_TYPES_H=1",
        "-DHAVE_SYS_STAT_H=1",
        "-DHAVE_STDLIB_H=1",
        "-DHAVE_STRING_H=1",
        "-DHAVE_MEMORY_H=1",
        "-DHAVE_STRINGS_H=1",
        "-DHAVE_INTTYPES_H=1",
        "-DHAVE_STDINT_H=1",
        "-DHAVE_UNISTD_H=1",
        "-DSIZEOF_SIGNED_CHAR=1",
        "-DNCURSES_EXT_FUNCS=1",
        "-DHAVE_ASSUME_DEFAULT_COLORS=1",
        "-DHAVE_CURSES_VERSION=1",
        "-DHAVE_HAS_KEY=1",
        "-DHAVE_RESIZETERM=1",
        "-DHAVE_RESIZE_TERM=1",
        "-DHAVE_TERM_ENTRY_H=1",
        "-DHAVE_USE_DEFAULT_COLORS=1",
        "-DHAVE_USE_EXTENDED_NAMES=1",
        "-DHAVE_USE_SCREEN=1",
        "-DHAVE_USE_WINDOW=1",
        "-DHAVE_WRESIZE=1",
        "-DNCURSES_SP_FUNCS=1",
        "-DHAVE_TPUTS_SP=1",
        "-DNCURSES_EXT_COLORS=1",
        "-DHAVE_ALLOC_PAIR=1",
        "-DHAVE_INIT_EXTENDED_COLOR=1",
        "-DHAVE_RESET_COLOR_PAIRS=1",
        "-DNCURSES_EXT_PUTWIN=1",
        "-DNCURSES_NO_PADDING=1",
        "-DUSE_SIGWINCH=1",
        "-DNCURSES_WRAP_PREFIX=\"_nc_\"",
        "-DUSE_ASSUMED_COLOR=1",
        "-DUSE_HASHMAP=1",
        "-DHAVE_NC_ALLOC_H=1",
        "-DHAVE_GETTIMEOFDAY=1",
        "-DHAVE_MATH_FUNCS=1",
        "-DSTDC_HEADERS=1",
        "-DHAVE_DIRENT_H=1",
        "-DTIME_WITH_SYS_TIME=1",
        "-DHAVE_REGEX_H_FUNCS=1",
        "-DHAVE_FCNTL_H=1",
        "-DHAVE_GETOPT_H=1",
        "-DHAVE_LIMITS_H=1",
        "-DHAVE_LOCALE_H=1",
        "-DHAVE_MATH_H=1",
        "-DHAVE_POLL_H=1",
        "-DHAVE_SYS_IOCTL_H=1",
        "-DHAVE_SYS_PARAM_H=1",
        "-DHAVE_SYS_POLL_H=1",
        "-DHAVE_SYS_SELECT_H=1",
        "-DHAVE_SYS_TIME_H=1",
        "-DHAVE_SYS_TIMES_H=1",
        "-DHAVE_UNISTD_H=1",
        "-DHAVE_WCTYPE_H=1",
        "-DHAVE_UNISTD_H=1",
        "-DHAVE_GETOPT_H=1",
        "-DHAVE_GETOPT_HEADER=1",
        "-DDECL_ENVIRON=1",
        "-DHAVE_ENVIRON=1",
        "-DHAVE_PUTENV=1",
        "-DHAVE_SETENV=1",
        "-DHAVE_STRDUP=1",
        "-DHAVE_SYS_TIME_SELECT=1",
        "-DSIG_ATOMIC_T=volatile sig_atomic_t",
        "-DHAVE_FPATHCONF=1",
        "-DHAVE_GETCWD=1",
        "-DHAVE_GETEGID=1",
        "-DHAVE_GETEUID=1",
        "-DHAVE_GETOPT=1",
        "-DHAVE_LOCALECONV=1",
        "-DHAVE_POLL=1",
        "-DHAVE_PUTENV=1",
        "-DHAVE_REMOVE=1",
        "-DHAVE_SELECT=1",
        "-DHAVE_SETBUF=1",
        "-DHAVE_SETBUFFER=1",
        "-DHAVE_SETENV=1",
        "-DHAVE_SETFSUID=1",
        "-DHAVE_SETVBUF=1",
        "-DHAVE_SIGACTION=1",
        "-DHAVE_SNPRINTF=1",
        "-DHAVE_STRDUP=1",
        "-DHAVE_STRSTR=1",
        "-DHAVE_SYSCONF=1",
        "-DHAVE_TCGETPGRP=1",
        "-DHAVE_TIMES=1",
        "-DHAVE_TSEARCH=1",
        "-DHAVE_VSNPRINTF=1",
        "-DHAVE_ISASCII=1",
        "-DHAVE_NANOSLEEP=1",
        "-DHAVE_TERMIO_H=1",
        "-DHAVE_TERMIOS_H=1",
        "-DHAVE_UNISTD_H=1",
        "-DHAVE_SYS_IOCTL_H=1",
        "-DHAVE_TCGETATTR=1",
        "-DHAVE_VSSCANF=1",
        "-DHAVE_UNISTD_H=1",
        "-DHAVE_MKSTEMP=1",
        "-DHAVE_SIZECHANGE=1",
        "-DHAVE_WORKING_POLL=1",
        "-DHAVE_VA_COPY=1",
        "-DHAVE_UNISTD_H=1",
        "-DHAVE_FORK=1",
        "-DHAVE_VFORK=1",
        "-DHAVE_WORKING_VFORK=1",
        "-DHAVE_WORKING_FORK=1",
        "-DUSE_FOPEN_BIN_R=1",
        "-DUSE_OPENPTY_HEADER=<pty.h>",
        "-DUSE_XTERM_PTY=1",
        "-DHAVE_TYPEINFO=1",
        "-DHAVE_IOSTREAM=1",
        "-DIOSTREAM_NAMESPACE=1",
        "-DSIZEOF_BOOL=1",
        "-DCPP_HAS_OVERRIDE=1",
        "-DCPP_HAS_STATIC_CAST=1",
        "-DSIZEOF_WCHAR_T=1",
        "-DHAVE_SLK_COLOR=1",
        "-DHAVE_PANEL_H=1",
        "-DHAVE_LIBPANEL=1",
        "-DHAVE_MENU_H=1",
        "-DHAVE_LIBMENU=1",
        "-DHAVE_FORM_H=1",
        "-DHAVE_LIBFORM=1",
        "-DNCURSES_PATHSEP=\':\'",
        "-DNCURSES_VERSION_STRING=\"6.3.20221105\"",
        "-DNCURSES_OSPEED_COMPAT=1",
        "-DHAVE_CURSES_DATA_BOOLNAMES=1",
        "-DUSE_XMC_SUPPORT=1",

        "-DBUILDING_NCURSES",
        "-D_DEFAULT_SOURCE",
        "-D_XOPEN_SOURCE=600",
        "-DNDEBUG",
        "-O2",
        "-DNCURSES_STATIC",
    };

    const ncursesw = b.addStaticLibrary("ncursesw", null);
    ncursesw.linkLibC();
    ncursesw.addIncludePath("ncurses");
    ncursesw.addIncludePath("include");
    ncursesw.addCSourceFiles(&ncursesw_src, &ncursesw_cflags);
    ncursesw.setTarget(target);
    ncursesw.setBuildMode(mode);
    ncursesw.install();
}
